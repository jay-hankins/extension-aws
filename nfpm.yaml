# nfpm configuration file
#
# check https://nfpm.goreleaser.com/configuration for detailed usage
#
name: "steadybit-extension-aws"
arch: "${ARCH}"
platform: "linux"
version: "${VERSION}"
maintainer: "Ansgar Schulte <ansgar.schulte@steadybit.com>"
description: |
  Steadybit Extension AWS
vendor: "steadybit GmbH"
homepage: "https://steadybit.com"
license: "Steadybit license"
contents:
  - src: ./files/
    dst: /opt/steadybit/extension-aws/
    type: tree
    file_info:
      owner: steadybit
      group: steadybit
  - src: ./linuxpkg/config/systemd/steadybit-extension-aws.service
    dst: /usr/lib/systemd/system/steadybit-extension-aws.service
  - src: ./linuxpkg/config/init.d/steadybit-extension-aws
    dst: /etc/init.d/steadybit-extension-aws
    type: config
  - src: ./linuxpkg/config/etc/steadybit/extension-aws
    dst: /etc/steadybit/extension-aws
    type: config|noreplace
  - src: ./linuxpkg/config/etc/logrotate.d/steadybit-extension-aws
    dst: /etc/logrotate.d/steadybit-extension-aws
    type: config

scripts:
  preinstall: ./linuxpkg/scripts/preinstall.sh
  postinstall: ./linuxpkg/scripts/postinstall.sh
  preremove: ./linuxpkg/scripts/preremove.sh

rpm:
  signature:
    key_file: "${NFPM_KEY_FILE}"
deb:
  signature:
    key_file: "${NFPM_KEY_FILE}"
